<html>
<head>

<title>Smart Text Classifier</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

</head>

<body class="bg-light">

<div class="container mt-4">

<h2 class="text-center text-primary">
Smart Text Classifier
</h2>

<p class="text-center">
Categorizes business queries into Technical, Billing, General
</p>

<!-- INPUT CARD -->

<div class="card p-3 shadow">
<form method="POST">

<textarea name="text" class="form-control"
placeholder="Enter business query..." rows="4"></textarea>

<br>

<button class="btn btn-primary w-100">
Classify
</button>

</form>

<h4 class="mt-3 text-success">
Prediction: {{ result }}
</h4>

</div>

<!-- METRICS -->

<div class="row mt-4">

<div class="col-md-6">
<div class="card p-3 shadow">
<h5>Accuracy</h5>
<h3 class="text-primary">{{ acc }} %</h3>
</div>
</div>

<div class="col-md-6">
<div class="card p-3 shadow">
<h5>F1 Score</h5>
<h3 class="text-success">{{ f1 }} %</h3>
</div>
</div>

</div>

<!-- CONFUSION MATRIX -->

<div class="card mt-4 p-3 shadow">
<h5>Confusion Matrix</h5>

<img src="/static/cm.png" width="250">
</div>

<!-- REPORT -->

<div class="card mt-4 p-3 shadow">

<h5>Classification Report</h5>

<table class="table table-bordered">

<tr>
<th>Class</th>
<th>Precision</th>
<th>Recall</th>
<th>F1</th>
</tr>

{% for key,value in report.items() if key in ['Technical','Billing','General'] %}

<tr>
<td>{{ key }}</td>
<td>{{ value['precision'] }}</td>
<td>{{ value['recall'] }}</td>
<td>{{ value['f1-score'] }}</td>
</tr>

{% endfor %}

</table>

</div>

</div>

</body>
</html>
